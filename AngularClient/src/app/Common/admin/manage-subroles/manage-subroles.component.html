<div id="SearchTemplateDiv" class="mt-3">
    <div class="row d-flex justify-content-between" style="border-bottom:1px solid #CDD5E9">
        <div class="col-md-4">
            <div class="main-heading">Role - <label>{{label}}</label></div>
        </div>
        <div class="col-md-4">
            <div class="d-flex justify-content-end">

                <div class="input-group w-auto" [formGroup]="RoleFormDropdown">
                    <select class="form-control form-control-sm" placeholder="Enter Role Name" formControlName="RoleId">
                        <option *ngFor="let Role of RoleList; let i=index" [value]="Role.roleId">
                            {{Role.roleName}}</option>
                    </select>
                    <button class="btn btn-primary btn-sm" type="button" id="FetchTemplateDetailBtn"
                        data-mdb-ripple-color="dark" (click)="UserRoleFetch()" style="border-radius: 0px 5px 5px 0px;">
                        Fetch Detail
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<br>

<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="tab1" role="tabpanel" style="padding-bottom: 50px;">
        <table id="example" class="table table-bordered com_table" style="width: 100%;">
            <thead>
                <tr>
                    <th style="width: 30px; border-left: 5px solid var(--orange-col); cursor:pointer;"
                        [ngClass]="{'active_arrow': isMenuExpanded}" (click)="ExpandMenuMasterDataAllRowOnClick()">
                        <i class="fa fa-angle-down expand_row_arrow" aria-hidden="true"></i>
                    </th>
                    <th>Sr No</th>
                    <th scope="col" class="col-1">MenuName</th>
                    <th scope="col" class="col-1">MenuCode</th>
                    <th scope="col" class="col-7">MenuDesc</th>
                    <th scope="col" class="col-1">DisplayOrder</th>
                    <th scope="col">Access</th>
                </tr>
            </thead>
            <tbody id="TemplateListBody">


                <tr *ngIf="subroleList.length <=0">
                    <td colspan="8">
                        <font style="color:red;">No Records found..</font>
                    </td>
                </tr>

                <ng-container *ngFor="let menu of ParentMenu; let i = index">
                    <tr>
                        <td class="dtr-control sorting_1"
                            [style.border-left]="'5px solid #' + WCColors[i % WCColors.length]"
                            [id]="'ExpandTemplateWC'+menu.menuId" (click)="ExpandMenuMasterDataRowOnClick(menu.menuId)">
                            <i class="fa fa-angle-down expand_row_arrow" aria-hidden="true"
                                [ngClass]="{'active_arrow': isMenuExpanded || menu.menuId===currentMenuID}"></i>
                        </td>
                        <td>{{i+1}}</td>
                        <td>{{menu.menuName}}</td>
                        <td>
                            <div>
                                <div class="badge badge-secondary font-l"
                                    [style.backgroundColor]="'#' + WCColors[i % WCColors.length]">
                                    {{menu.menuCode}}</div>
                            </div>
                        </td>
                        <td>{{menu.menuDesc}}</td>
                        <td>{{menu.displayOrder}}</td>
                        <td class="text-center">
                            <input type="checkbox" [checked]="menu.hasAccess"
                                (change)="updateCheckboxState(menu,$event)">

                        </td>

                    </tr>
                    <ng-container>
                        <tr [id]="'MenuMasterChild'+menu.menuId" class="ParentChildTable">
                            <td colspan="8">
                                <div class="showDiv" style="padding-top:0px;"
                                    [ngClass]="menu.menuId===currentMenuID?'openChild':'showDiv'"
                                    [ngStyle]="{'display': isMenuExpanded || menu.menuId===currentMenuID ? 'block' : 'none'}">
                                    <table style="width: 100%;">
                                        <thead style="display:none;">
                                            <tr>
                                                <th>
                                                    <div style="width: 100px;">MenuName</div>
                                                </th>
                                                <th>MenuCode</th>
                                                <th>
                                                    <div style="width: 100px;">MenuDesc</div>
                                                </th>
                                                <th style="width:150px;">DisplayOrder</th>
                                                <th style="width:150px;">Access</th>
                                            </tr>
                                        </thead>
                                        <tbody class="MenuMasterChildBody"
                                            [id]="'MenuMasterChildBody'+menu.menuId.toString()">
                                            <ng-container *ngFor="let childMenu of ChildMenu">

                                                <tr *ngIf="childMenu.parentMenuId===menu.menuId">
                                                    <td style="padding-left:40px; width:300px;"
                                                        [style.border-left]="'5px solid #' + WCColors[i % WCColors.length]">
                                                        {{childMenu.menuName}}</td>
                                                    <td style="padding-left:40px; width:150px;">
                                                        <div class="badge badge-secondary font-l"
                                                            [style]="'background-color: #'+WCColors[i % WCColors.length]">
                                                            {{childMenu.menuCode}}
                                                        </div>
                                                    </td>
                                                    <td style="padding-left:50px; width:1400px;"> {{childMenu.menuDesc}}
                                                    </td>
                                                    <td class="text-center" style=" width:150px;">
                                                        {{childMenu.displayOrder}} </td>
                                                    <td class="text-center" style=" width:150px;">

                                                        <input type="checkbox" [checked]="childMenu.hasAccess"
                                                            (change)="updateCheckboxState(childMenu,$event)">
                                                    </td>
                                                </tr>
                                            </ng-container>
                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </ng-container>
                </ng-container>


            </tbody>
        </table>
    </div>
</div>